# Tinyproxy Konfigurationsdatei

# Benutzer und Gruppe, unter denen Tinyproxy läuft
User nobody
Group nogroup

# Port, auf dem Tinyproxy lauscht
Port 3128

# Timeout in Sekunden (Anfragen/Verbindungen)
Timeout 600

# Fehlerseite und Statistikseite (optional)
DefaultErrorFile "/usr/share/tinyproxy/default_error.html"
StatFile "/usr/share/tinyproxy/stats.html"

# Logdatei und Loglevel (kannst du bei Bedarf anpassen)
LogFile "/var/log/tinyproxy/tinyproxy.log"
LogLevel Info

# PID-Datei
PidFile "/var/run/tinyproxy/tinyproxy.pid"

# Maximale Anzahl gleichzeitig verbundener Clients
MaxClients 100

# Einstellungen für Child-Prozesse
MinSpareServers 5
MaxSpareServers 20
StartServers 10
MaxRequestsPerChild 0

# Auf allen Schnittstellen lauschen
Listen 0.0.0.0

# Erlaube Zugriff aus dem internen Docker-Netzwerk (anpassen, falls dein Subnetz anders ist)
Allow 172.18.0.0/16

# Optional: Den Via-Header setzen (damit der Client-IP weitergereicht wird)
ViaProxyName "tinyproxy"

# Erlaube Verbindungen zu folgenden Ports (HTTPS, etc.)
ConnectPort 443
ConnectPort 563

# Optional: Disable den Proxy-Authenticate-Header (falls benötigt)
DisableViaHeader Yes
